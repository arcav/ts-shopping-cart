var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,c=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&l(e,r,t[r]);return e},m=(e,a)=>t(e,r(a));import{m as d,R as i,C as s,a as u,b as p,c as g,T as E,B as h,S as C,d as b,I as y,A as T,D as v,e as f,L as x,r as k,u as F,f as O,Q as w,g as j,h as N}from"./vendor.730f46bf.js";const A=d({card:{height:320},media:{marginTop:15,height:150,backgroundSize:"contain"},btn:{marginLeft:"10px"}}),P=({product:e,handleAddToCar:t})=>{const r=A();return i.createElement(i.Fragment,null,i.createElement(s,{className:r.card},i.createElement(u,null,i.createElement(p,{className:r.media,image:e.image}),i.createElement(g,null,i.createElement("div",{style:{height:"4rem",marginTop:"2rem"}},i.createElement(E,{gutterBottom:!0,variant:"body2"},e.title)))),i.createElement(h,{className:r.btn,size:"small",variant:"outlined",color:"secondary",onClick:()=>t(e)},"Add To Cart")))},B=({data:e,handleAddToCar:t})=>i.createElement(i.Fragment,null,i.createElement(C,{container:!0,spacing:3},null==e?void 0:e.map((e=>i.createElement(C,{item:!0,key:e.id,xs:12,sm:6,md:4,lg:3},i.createElement(P,{product:e,handleAddToCar:t})))))),S=d({btn:{display:"flex",justifyContent:"space-between"},img:{maxWidth:"120px",objectFit:"contain",justifyItems:"center"},BorderConatiner:{border:"solid red 1px",marginBottom:"15px",borderRadius:"20px"}}),R=({product:e,addToCart:t,removeFromCart:r})=>{const a=S();return i.createElement(g,{className:a.BorderConatiner},i.createElement(E,{variant:"h5",align:"center",gutterBottom:!0},e.title),i.createElement(E,{variant:"body2",align:"center",gutterBottom:!0}," Price:$",e.price),i.createElement(E,{variant:"body2",align:"center",gutterBottom:!0}," Total:$",(e.amount*e.price).toFixed(2)),i.createElement("div",{className:a.btn},i.createElement(h,{color:"secondary",size:"large",variant:"outlined",onClick:()=>r(e.id)},"-"),i.createElement("p",null,e.amount),i.createElement(h,{color:"secondary",size:"small",variant:"outlined",onClick:()=>t(e)},"+")),i.createElement(b,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"25vh",marginBottom:"20px"},i.createElement("img",{className:a.img,src:e.image,alt:e.title})))},I=d({btn:{background:"red",color:"white",marginTop:20,border:"solid",borderWidth:1,"&:hover":{color:"red",backgroundColor:"whitesmoke",border:"solid",borderWidth:1}}}),L=({cartProducts:e,addToCart:t,removeFromCart:r,onClose:a,calculateTotal:n})=>{const o=I();return i.createElement(g,null,i.createElement(y,{className:o.btn,onClick:()=>a()},i.createElement(T,null)),i.createElement(E,{variant:"h4",align:"center",style:{marginTop:"25px"}},"Your Shoping Cart"),0===e.length?i.createElement("p",null,"No Products in Cart"):null,e.map((e=>i.createElement(R,{key:e.id,product:e,addToCart:t,removeFromCart:r}))),i.createElement("h2",null,"Total: $",n(e).toFixed(2)))},W=({cartOpen:e,setCartOpen:t,products:r,handleRemoveFromCart:a,handleAddToCar:n,calculateTotal:o})=>i.createElement(v,{anchor:"right",open:e,onClose:()=>t(!1),variant:"temporary"},i.createElement(L,{cartProducts:r,addToCart:n,removeFromCart:a,onClose:()=>t(!1),calculateTotal:o})),z=d({btn:{background:"red",color:"white",marginTop:20,border:"solid",borderWidth:1,position:"fixed","&:hover":{color:"red",backgroundColor:"whitesmoke",border:"solid",borderWidth:1}}}),D=({setCartOpen:e,products:t})=>{const r=z();return i.createElement(y,{className:r.btn,onClick:()=>e(!0)},i.createElement(f,{badgeContent:(a=t,a.reduce(((e,t)=>e+t.amount),0)),color:"primary"},i.createElement(T,null)));var a},$=d({root:{marginTop:"8rem",width:"85%"},spinner:{marginTop:"64px"}}),H=({children:e,isLoading:t,error:r,cartProducts:a,handleRemoveFromCart:n,handleAddToCar:o,calculateTotal:l})=>{const[c,m]=i.useState(!1),d=$();return i.createElement(i.Fragment,null,t&&i.createElement(x,{color:"secondary",className:d.spinner}),r&&i.createElement("h3",null,"Algo salio mal"),i.createElement(W,{cartOpen:c,setCartOpen:m,products:a,handleRemoveFromCart:n,handleAddToCar:o,calculateTotal:l}),i.createElement(D,{setCartOpen:m,products:a}),i.createElement(g,{className:d.root},e))},Q=d({root:{width:"80%"},porgress:{display:"flex",flexDirection:"column",justifyContent:"center"}}),Y=async()=>{const{data:e}=await O.get("https://fakestoreapi.com/products");return e},q=()=>{Q();const[e,t]=k.exports.useState([]),{data:r,isLoading:a,error:n}=F("products",Y),o=e=>{t((t=>t.find((t=>t.id===e.id))?t.map((t=>t.id===e.id?m(c({},t),{amount:t.amount+1}):t)):[...t,m(c({},e),{amount:1})]))};return i.createElement(i.Fragment,null,i.createElement(H,{isLoading:a,error:n,cartProducts:e,handleRemoveFromCart:e=>{t((t=>t.reduce(((t,r)=>r.id===e?1===r.amount?t:[...t,m(c({},r),{amount:r.amount-1})]:[...t,r]),[])))},handleAddToCar:o,calculateTotal:e=>e.reduce(((e,t)=>e+t.amount*t.price),0)},i.createElement("h3",{className:"center"},"Ts-ShopingCart"),i.createElement(s,null,i.createElement(B,{data:r,handleAddToCar:o}))))},G=new w;j.render(i.createElement(N,{client:G},i.createElement(q,null)),document.getElementById("root"));
