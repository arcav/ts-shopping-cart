var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,c=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&n(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&n(e,a,t[a]);return e},s=(e,r)=>t(e,a(r));import{r as d,u as m,a as i,R as u,F as x,b as p,Q as g,c as f,d as h}from"./vendor.9a792fda.js";const b=async()=>{const{data:e}=await i.get("https://fakestoreapi.com/products");return e},E=({product:e,handleAddToCar:t})=>u.createElement("div",{className:"flex flex-col h-[380px] border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 bg-white overflow-hidden"},u.createElement("div",{className:"h-48 p-4 flex items-center justify-center bg-white"},u.createElement("img",{src:e.image,alt:e.title,className:"h-full w-full object-contain"})),u.createElement("div",{className:"flex-1 px-4 py-2 flex flex-col justify-between"},u.createElement("div",{className:"mb-2"},u.createElement("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2",title:e.title},e.title),u.createElement("p",{className:"font-bold text-lg text-gray-900 mt-1"},"$",e.price)),u.createElement("button",{className:"w-full mt-auto bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200",onClick:()=>t(e)},"Add To Cart"))),v=({data:e,handleAddToCar:t})=>u.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},null==e?void 0:e.map((e=>u.createElement("div",{key:e.id},u.createElement(E,{product:e,handleAddToCar:t}))))),w=()=>u.createElement("header",{className:"bg-indigo-600 text-white shadow-md fixed w-full top-0 z-40"},u.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center"},u.createElement("h3",{className:"text-xl font-bold tracking-wider"},"TS-Shopping Cart"))),y=({product:e,addToCart:t,removeFromCart:a})=>u.createElement("div",{className:"border border-gray-200 rounded-xl mb-4 p-4 shadow-sm bg-white"},u.createElement("h3",{className:"text-xl font-medium text-center mb-2"},e.title),u.createElement("div",{className:"flex justify-between items-center text-gray-600 mb-2 px-4"},u.createElement("p",null,"Price: $",e.price),u.createElement("p",null,"Total: $",(e.amount*e.price).toFixed(2))),u.createElement("div",{className:"flex justify-between items-center bg-gray-50 rounded-lg p-2 mb-4 max-w-xs mx-auto"},u.createElement("button",{className:"w-8 h-8 flex items-center justify-center bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",onClick:()=>a(e.id)},"-"),u.createElement("p",{className:"font-bold text-lg"},e.amount),u.createElement("button",{className:"w-8 h-8 flex items-center justify-center bg-green-100 text-green-600 rounded-full hover:bg-green-200 transition-colors",onClick:()=>t(e)},"+")),u.createElement("div",{className:"flex justify-center items-center min-h-[25vh] mb-5"},u.createElement("img",{className:"max-w-[120px] object-contain",src:e.image,alt:e.title}))),N=({cartProducts:e,addToCart:t,removeFromCart:a,onClose:r,calculateTotal:l})=>u.createElement("div",{className:"w-full h-full p-4 flex flex-col"},u.createElement("div",{className:"flex justify-between items-center mb-6"},u.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Your Shopping Cart"),u.createElement("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>r()},u.createElement(x,{className:"h-6 w-6 text-red-500"}))),u.createElement("div",{className:"flex-1 overflow-y-auto"},0===e.length?u.createElement("p",{className:"text-center text-gray-500 mt-10"},"No Products in Cart"):null,e.map((e=>u.createElement(y,{key:e.id,product:e,addToCart:t,removeFromCart:a})))),u.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},u.createElement("h2",{className:"text-xl font-bold text-right text-gray-900"},"Total: $",l(e).toFixed(2)))),C=({cartOpen:e,setCartOpen:t,products:a,handleRemoveFromCart:r,handleAddToCar:l,calculateTotal:o})=>(d.exports.useEffect((()=>{document.body.style.overflow=e?"hidden":"unset"}),[e]),u.createElement("div",{className:"fixed inset-0 z-50 transition-opacity duration-300 "+(e?"visible opacity-100":"invisible opacity-0")},u.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>t(!1)}),u.createElement("div",{className:"absolute right-0 top-0 h-full w-full sm:w-96 bg-white shadow-xl transform transition-transform duration-300 ease-in-out "+(e?"translate-x-0":"translate-x-full")},u.createElement("div",{className:"h-full flex flex-col"},u.createElement(N,{cartProducts:a,addToCart:l,removeFromCart:r,onClose:()=>t(!1),calculateTotal:o}))))),T=({setCartOpen:e,products:t})=>{const a=t.reduce(((e,t)=>e+t.amount),0);return u.createElement("button",{className:"fixed z-50 top-5 right-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-3 shadow-lg transition-all duration-300 flex items-center justify-center group",onClick:()=>e(!0)},u.createElement("div",{className:"relative"},u.createElement(p,{className:"h-6 w-6"}),a>0&&u.createElement("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center border-2 border-indigo-600"},a)))},j=({children:e,isLoading:t,error:a,cartProducts:r,handleRemoveFromCart:l,handleAddToCar:o,calculateTotal:n})=>{const[c,s]=u.useState(!1);return u.createElement("div",{className:"min-h-screen bg-gray-100 flex flex-col"},u.createElement(w,null),t&&u.createElement("div",{className:"fixed top-0 left-0 w-full h-1 bg-gray-200 z-50"},u.createElement("div",{className:"h-full bg-indigo-600 animate-pulse"})),u.createElement("main",{className:"flex-grow pt-20 pb-8 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto w-full"},a&&u.createElement("div",{className:"text-red-500 text-center text-xl mt-10"},"Algo salio mal"),e),u.createElement(C,{cartOpen:c,setCartOpen:s,products:r,handleRemoveFromCart:l,handleAddToCar:o,calculateTotal:n}),u.createElement(T,{setCartOpen:s,products:r}))},O=()=>{const{data:e,isLoading:t,error:a,cartProducts:r,handleAddToCar:l,handleRemoveFromCart:o,calculateTotal:n}=(()=>{const[e,t]=d.exports.useState([]),{data:a,isLoading:r,error:l}=m("products",b);return{data:a,isLoading:r,error:l,cartProducts:e,handleAddToCar:e=>{t((t=>t.find((t=>t.id===e.id))?t.map((t=>t.id===e.id?s(c({},t),{amount:t.amount+1}):t)):[...t,s(c({},e),{amount:1})]))},handleRemoveFromCart:e=>{t((t=>t.reduce(((t,a)=>a.id===e?1===a.amount?t:[...t,s(c({},a),{amount:a.amount-1})]:[...t,a]),[])))},calculateTotal:e=>e.reduce(((e,t)=>e+t.amount*t.price),0)}})();return u.createElement(j,{isLoading:t,error:a,cartProducts:r,handleRemoveFromCart:o,handleAddToCar:l,calculateTotal:n},u.createElement("h3",{className:"text-2xl font-bold text-center my-4"},"Ts-Shopping Cart"),u.createElement("div",{className:"bg-white shadow-md rounded-lg p-4"},u.createElement(v,{data:e,handleAddToCar:l})))},F=new g;f.render(u.createElement(h,{client:F},u.createElement(O,null)),document.getElementById("root"));
